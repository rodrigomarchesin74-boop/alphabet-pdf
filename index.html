<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALPHAbet - Gerador de PDF</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        header h1 { font-size: 2em; margin-bottom: 10px; }
        header p { font-size: 0.9em; opacity: 0.9; }
        .content { padding: 30px; }
        .section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            border-radius: 5px;
        }
        .section h2 { color: #667eea; margin-bottom: 15px; font-size: 1.3em; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; color: #333; }
        input[type="text"], input[type="date"], textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: Arial, sans-serif;
            font-size: 1em;
        }
        textarea { resize: vertical; min-height: 60px; }
        input[type="checkbox"] { margin-right: 8px; cursor: pointer; }
        .checkbox-group { display: flex; align-items: center; margin-bottom: 10px; }
        .checkbox-group label { margin-bottom: 0; display: flex; align-items: center; cursor: pointer; }
        .button-group { display: flex; gap: 10px; margin-top: 20px; flex-wrap: wrap; }
        button {
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-primary { background: #667eea; color: white; }
        .btn-primary:hover { background: #5568d3; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4); }
        .btn-secondary { background: #6c757d; color: white; }
        .btn-secondary:hover { background: #5a6268; }
        .message {
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            display: none;
        }
        .message.show { display: block; animation: slideIn 0.3s ease-in; }
        .message.success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .message.error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .tabs { display: flex; border-bottom: 2px solid #ddd; margin-bottom: 20px; }
        .tab-button {
            padding: 10px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1em;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        .tab-button.active { color: #667eea; border-bottom-color: #667eea; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìö ALPHAbet</h1>
            <p>Gerador de Documentos de Estudo - AD/DP UNIP</p>
        </header>
        <div class="content">
            <div id="message" class="message"></div>
            <div class="tabs">
                <button class="tab-button active" onclick="switchTab('form')">Formul√°rio</button>
                <button class="tab-button" onclick="switchTab('datas')">Configurar Datas</button>
            </div>
            <div id="form" class="tab-content active">
                <div class="section">
                    <h2>üìã Dados do Aluno</h2>
                    <div class="form-group">
                        <label for="student_name">Nome do Aluno *</label>
                        <input type="text" id="student_name" placeholder="Digite o nome completo" required>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="regime_grade">
                        <label for="regime_grade">Participa do regime de grade?</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="has_subsequent_semester">
                        <label for="has_subsequent_semester">Possui disciplinas em semestre(s) subsequente(s)?</label>
                    </div>
                </div>
                <div class="section">
                    <h2>üìö Disciplinas</h2>
                    <div class="checkbox-group">
                        <input type="checkbox" id="task_AC">
                        <label for="task_AC">Atividades Complementares (AC)</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="task_EXT">
                        <label for="task_EXT">Atividades de Extens√£o (EXT)</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="task_AVA">
                        <label for="task_AVA">Disciplina(s) AVA</label>
                    </div>
                    <div class="form-group" style="margin-left: 30px;">
                        <input type="text" id="AVA_disciplines" placeholder="Ex: Matem√°tica, Portugu√™s">
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="task_ONLINE">
                        <label for="task_ONLINE">Disciplina(s) On-line</label>
                    </div>
                    <div class="form-group" style="margin-left: 30px;">
                        <input type="text" id="ONLINE_disciplines" placeholder="Ex: Hist√≥ria, Geografia">
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="task_ONLINE_ESPECIAL">
                        <label for="task_ONLINE_ESPECIAL">Disciplina(s) On-line - Casos Especiais</label>
                    </div>
                    <div class="form-group" style="margin-left: 30px;">
                        <input type="text" id="ONLINE_ESPECIAL_disciplines" placeholder="Ex: Biologia">
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="task_OPTATIVA">
                        <label for="task_OPTATIVA">Disciplina Optativa</label>
                    </div>
                    <div class="form-group" style="margin-left: 30px;">
                        <input type="text" id="OPTATIVA_disciplines" placeholder="Ex: Educa√ß√£o F√≠sica">
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="task_ED">
                        <label for="task_ED">Estudos Disciplinares (ED)</label>
                    </div>
                    <div class="form-group" style="margin-left: 30px;">
                        <input type="text" id="ED_disciplines" placeholder="Ex: M√≥dulo 1, M√≥dulo 2">
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="task_PIM">
                        <label for="task_PIM">Projeto Integrado Multidisciplinar (PIM)</label>
                    </div>
                    <div class="form-group" style="margin-left: 30px;">
                        <input type="text" id="PIM_disciplines" placeholder="Ex: PIM I">
                    </div>
                </div>
                <div class="button-group">
                    <button class="btn-primary" onclick="generatePDF()">üìÑ Gerar PDF</button>
                    <button class="btn-secondary" onclick="resetForm()">üîÑ Limpar Formul√°rio</button>
                </div>
            </div>
            <div id="datas" class="tab-content">
                <div class="section">
                    <h2>üìÖ Configurar Datas</h2>
                    <div class="grid">
                        <div class="form-group">
                            <label for="NP1_inicio">NP1 - In√≠cio</label>
                            <input type="date" id="NP1_inicio">
                        </div>
                        <div class="form-group">
                            <label for="NP1_fim">NP1 - Fim</label>
                            <input type="date" id="NP1_fim">
                        </div>
                        <div class="form-group">
                            <label for="NP2_inicio">NP2 - In√≠cio</label>
                            <input type="date" id="NP2_inicio">
                        </div>
                        <div class="form-group">
                            <label for="NP2_fim">NP2 - Fim</label>
                            <input type="date" id="NP2_fim">
                        </div>
                        <div class="form-group">
                            <label for="SUB_inicio">SUB - In√≠cio</label>
                            <input type="date" id="SUB_inicio">
                        </div>
                        <div class="form-group">
                            <label for="SUB_fim">SUB - Fim</label>
                            <input type="date" id="SUB_fim">
                        </div>
                        <div class="form-group">
                            <label for="EXAME_inicio">EXAME - In√≠cio</label>
                            <input type="date" id="EXAME_inicio">
                        </div>
                        <div class="form-group">
                            <label for="EXAME_fim">EXAME - Fim</label>
                            <input type="date" id="EXAME_fim">
                        </div>
                        <div class="form-group">
                            <label for="PIM_prazo">Prazo PIM</label>
                            <input type="date" id="PIM_prazo">
                        </div>
                        <div class="form-group">
                            <label for="GERAL_prazo">Prazo Geral</label>
                            <input type="date" id="GERAL_prazo">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="atendimento_info">Info de Atendimento</label>
                        <input type="text" id="atendimento_info" placeholder="Ex: quintas-feiras, das 18h30 √†s 21h00">
                    </div>
                    <div class="button-group">
                        <button class="btn-primary" onclick="saveDates()">üíæ Salvar Configura√ß√µes</button>
                        <button class="btn-secondary" onclick="resetDates()">üîÑ Restaurar Padr√£o</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        const DEFAULT_DATES = {
            NP1_inicio: "2025-09-15",
            NP1_fim: "2025-09-27",
            NP2_inicio: "2025-11-03",
            NP2_fim: "2025-11-14",
            SUB_inicio: "2025-11-17",
            SUB_fim: "2025-11-25",
            EXAME_inicio: "2025-12-04",
            EXAME_fim: "2025-12-12",
            PIM_prazo: "2025-10-30",
            GERAL_prazo: "2025-10-20",
            atendimento_info: "quintas-feiras, das 18h30 √†s 21h00"
        };
        window.addEventListener('load', loadDates);
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab-button').forEach(el => el.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }
        function loadDates() {
            const saved = localStorage.getItem('alphabetDates');
            const dates = saved ? JSON.parse(saved) : DEFAULT_DATES;
            Object.keys(dates).forEach(key => {
                const elem = document.getElementById(key);
                if (elem) elem.value = dates[key];
            });
        }
        function saveDates() {
            const dates = {};
            Object.keys(DEFAULT_DATES).forEach(key => {
                const elem = document.getElementById(key);
                if (elem) dates[key] = elem.value;
            });
            localStorage.setItem('alphabetDates', JSON.stringify(dates));
            showMessage('‚úÖ Configura√ß√£o salva com sucesso!', 'success');
        }
        function resetDates() {
            if (confirm('Tem certeza que deseja restaurar as configura√ß√µes padr√£o?')) {
                Object.keys(DEFAULT_DATES).forEach(key => {
                    const elem = document.getElementById(key);
                    if (elem) elem.value = DEFAULT_DATES[key];
                });
                localStorage.removeItem('alphabetDates');
                showMessage('‚úÖ Configura√ß√µes restauradas aos padr√µes!', 'success');
            }
        }
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('pt-BR');
        }
        function resetForm() {
            document.getElementById('student_name').value = '';
            document.getElementById('regime_grade').checked = false;
            document.getElementById('has_subsequent_semester').checked = false;
            document.querySelectorAll('input[id*="_disciplines"]').forEach(inp => inp.value = '');
        }
        function showMessage(text, type) {
            const msg = document.getElementById('message');
            msg.textContent = text;
            msg.className = `message ${type} show`;
            setTimeout(() => msg.classList.remove('show'), 5000);
        }
        function generatePDF() {
            const studentName = document.getElementById('student_name').value.trim();
            if (!studentName) {
                showMessage('Por favor, insira o nome do aluno!', 'error');
                return;
            }
            const selectedTasks = [];
            document.querySelectorAll('input[id^="task_"]:checked').forEach(cb => {
                selectedTasks.push(cb.id.replace('task_', ''));
            });
            if (selectedTasks.length === 0) {
                showMessage('Por favor, selecione pelo menos uma tarefa!', 'error');
                return;
            }
            try {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF('p', 'mm', 'a4');
                const pageWidth = doc.internal.pageSize.getWidth();
                const pageHeight = doc.internal.pageSize.getHeight();
                const margin = 15;
                const maxWidth = pageWidth - (margin * 2);
                let yPos = 20;
                doc.setFontSize(16);
                doc.setTextColor(0, 0, 0);
                doc.text("Regime de Adapta√ß√£o/Depend√™ncia (AD/DP)", pageWidth / 2, yPos, { align: 'center' });
                yPos += 8;
                doc.setFontSize(14);
                doc.setFont(undefined, 'bold');
                doc.text("Programa de Estudo", pageWidth / 2, yPos, { align: 'center' });
                yPos += 12;
                doc.setFontSize(11);
                doc.setFont(undefined, 'normal');
                doc.text("Aluno/RA/Curso/Grade:", margin, yPos);
                doc.setFont(undefined, 'bold');
                doc.text(studentName, margin + 50, yPos);
                yPos += 8;
                doc.setFont(undefined, 'normal');
                const regimeStr = document.getElementById('regime_grade').checked ? 'Sim' : 'N√£o';
                doc.text(`Participa do regime de grade? ${regimeStr}`, margin, yPos);
                yPos += 6;
                const hasSubseqStr = document.getElementById('has_subsequent_semester').checked ? 'Sim' : 'N√£o';
                doc.text(`Possui disciplinas para cumprir em semestre(s) subsequente(s)? ${hasSubseqStr}`, margin, yPos);
                yPos += 12;
                if (document.getElementById('has_subsequent_semester').checked) {
                    doc.setFont(undefined, 'italic');
                    doc.setFontSize(10);
                    const noteText = "ATEN√á√ÉO!! Em conformidade √†s Diretrizes Curriculares da UNIP, voc√™ ter√° disciplinas em AD/DP para cumprir neste e no(s) pr√≥ximo(s) semestre(s). As indica√ß√µes a seguir correspondem ao conte√∫do a ser integralizado NESTE SEMESTRE. Para o(s) pr√≥ximo(s), voc√™ dever√° entrar em contato com a Coordena√ß√£o, para receber novas instru√ß√µes.";
                    const lines = doc.splitTextToSize(noteText, maxWidth);
                    lines.forEach(line => {
                        doc.text(line, margin, yPos);
                        yPos += 4;
                    });
                    yPos += 4;
                    doc.setFont(undefined, 'normal');
                    doc.setFontSize(11);
                }
                const dates = JSON.parse(localStorage.getItem('alphabetDates')) || DEFAULT_DATES;
                const regimeGrade = document.getElementById('regime_grade').checked;
                selectedTasks.forEach(task => {
                    if (yPos > pageHeight - 30) {
                        doc.addPage();
                        yPos = 15;
                    }
                    doc.setFontSize(12);
                    doc.setFont(undefined, 'bold');
                    doc.setTextColor(102, 126, 234);
                    const taskNames = {
                        'AC': 'Atividades Complementares (AC)',
                        'EXT': 'Atividades de Extens√£o (EXT)',
                        'AVA': 'Disciplina(s) AVA',
                        'ONLINE': 'Disciplina(s) On-line',
                        'ONLINE_ESPECIAL': 'Disciplina(s) On-line - Casos Especiais',
                        'OPTATIVA': 'Disciplina Optativa',
                        'ED': 'Estudos Disciplinares (ED)',
                        'PIM': 'Projeto Integrado Multidisciplinar (PIM)'
                    };
                    doc.text(taskNames[task] || task, margin, yPos);
                    yPos += 6;
                    doc.setTextColor(0, 0, 0);
                    doc.setFont(undefined, 'normal');
                    doc.setFontSize(10);
                    let details = [];
                    if (task === 'AC') {
                        details = ['Carga hor√°ria exigida: 100 horas.', 'A entrega das AC √© feita on-line, exclusivamente via √Årea do Aluno/AC.'];
                    } else if (task === 'EXT') {
                        details = ['Carga hor√°ria exigida: 210 horas.', 'A entrega das Atividades de Extens√£o √© feita on-line, exclusivamente via √Årea do Aluno/EXT.'];
                    } else if (task === 'AVA') {
                        const disciplines = document.getElementById('AVA_disciplines').value;
                        if (disciplines) details.push(`Disciplina(s): ${disciplines}.`);
                        if (regimeGrade) {
                            details.push('Acessar √Årea do Aluno/AVA/Conte√∫dos Acad√™micos/Minhas Disciplinas.');
                            details.push('Para NP1, responder, salvar e ENVIAR TODOS os question√°rios de TODAS as unidades.');
                            details.push('Para NP2, SUB e EXAME, agendar as provas.');
                            details.push('O aluno dever√° realizar o EXAME apenas se MS < 7,0.');
                            details.push(`NP1: de ${formatDate(dates.NP1_inicio)} a ${formatDate(dates.NP1_fim)}.`);
                            details.push(`NP2: de ${formatDate(dates.NP2_inicio)} a ${formatDate(dates.NP2_fim)}.`);
                            details.push(`SUB: de ${formatDate(dates.SUB_inicio)} a ${formatDate(dates.SUB_fim)}.`);
                            details.push(`EXAME: de ${formatDate(dates.EXAME_inicio)} a ${formatDate(dates.EXAME_fim)}.`);
                        } else {
                            details.push('Acessar √Årea do Aluno/AVA/Conte√∫dos Acad√™micos/Minhas Disciplinas.');
                            details.push('Responder, salvar e ENVIAR TODOS os question√°rios de TODAS as unidades.');
                            details.push('A nota dos exerc√≠cios ser√° replicada para NP1 e NP2.');
                            details.push('Para aprova√ß√£o, m√©dia >= 5,0.');
                        }
                    } else if (task === 'ONLINE') {
                        const disciplines = document.getElementById('ONLINE_disciplines').value;
                        if (disciplines) details.push(`Disciplina(s): ${disciplines}.`);
                        details.push('Acessar √Årea do Aluno/Disciplinas On-line.');
                        details.push('Responder TODOS OS M√ìDULOS DE QUEST√ïES.');
                    } else if (task === 'ONLINE_ESPECIAL') {
                        const disciplines = document.getElementById('ONLINE_ESPECIAL_disciplines').value;
                        if (disciplines) details.push(`Disciplina(s): ${disciplines}.`);
                        details.push('Acessar √Årea do Aluno/AVA/Conte√∫dos Acad√™micos/Minhas Disciplinas.');
                        details.push('Responder e ENVIAR TODOS os question√°rios de TODAS as unidades.');
                    } else if (task === 'OPTATIVA') {
                        const disciplines = document.getElementById('OPTATIVA_disciplines').value;
                        if (disciplines) details.push(`Disciplina(s): ${disciplines}.`);
                        details.push('Acessar √Årea do Aluno/AVA/Conte√∫dos Acad√™micos/Minhas Disciplinas.');
                    } else if (task === 'ED') {
                        const disciplines = document.getElementById('ED_disciplines').value;
                        if (disciplines) details.push(`Disciplina(s): ${disciplines}.`);
                        details.push('Responder TODAS as quest√µes (35) de cada m√≥dulo.');
                        details.push('Acertar, para aprova√ß√£o, pelo menos 10 quest√µes por m√≥dulo.');
                    } else if (task === 'PIM') {
                        const disciplines = document.getElementById('PIM_disciplines').value;
                        if (disciplines) details.push(`Disciplina(s): ${disciplines}.`);
                        details.push('Elaborar o trabalho, conforme Manual anexo.');
                        details.push('DIGITADO conforme normas da ABNT.');
                        details.push('Enviar em PDF para: rodrigo.oliveira@docente.unip.br');
                        if (regimeGrade) details.push(`Prazo: ${formatDate(dates.PIM_prazo)}.`);
                    }
                    details.forEach(detail => {
                        if (detail.trim()) {
                            const lines = doc.splitTextToSize(`‚Ä¢ ${detail.trim()}`, maxWidth - 5);
                            lines.forEach(line => {
                                if (yPos > pageHeight - 15) {
                                    doc.addPage();
                                    yPos = 15;
                                }
                                doc.text(line, margin + 5, yPos);
                                yPos += 4;
                            });
                        }
                    });
                    yPos += 3;
                });
                const cleanName = studentName.normalize('NFD').replace(/[\u0300-\u036f]/g, '').replace(/[^a-zA-Z0-9]/g, '_');
                doc.save(`DP_${cleanName}.pdf`);
                showMessage('‚úÖ PDF gerado com sucesso!', 'success');
            } catch (error) {
                showMessage('‚ùå Erro: ' + error.message, 'error');
            }
        }
    </script>
</body>
</html>
